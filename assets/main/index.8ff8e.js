window.__require=function t(e,o,n){function i(c,a){if(!o[c]){if(!e[c]){var s=c.split("/");if(s=s[s.length-1],!e[s]){var l="function"==typeof __require&&__require;if(!a&&l)return l(s,!0);if(r)return r(s,!0);throw new Error("Cannot find module '"+c+"'")}c=s}var u=o[c]={exports:{}};e[c][0].call(u.exports,function(t){return i(e[c][1][t]||t)},u,u.exports,t,e,o,n)}return o[c].exports}for(var r="function"==typeof __require&&__require,c=0;c<n.length;c++)i(n[c]);return i}({Bullet:[function(t,e,o){"use strict";cc._RF.push(e,"7650eqzdfJBkrdl0Ya2zK/k","Bullet");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("./GameMgr"),a=cc._decorator,s=a.ccclass,l=(a.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.start=function(){},e.prototype.update=function(){c.GameMgr.instance.isPaused||(this.node.y+=26,this.node.y>568&&c.GameMgr.instance.killBullet(this.node))},e.prototype.onCollisionEnter=function(t,e){1==e.tag&&c.GameMgr.instance.killBullet(this.node),2==t.tag&&t.getComponent("Enemy_Small").hitted()},r([s],e)}(cc.Component));o.default=l,cc._RF.pop()},{"./GameMgr":"GameMgr"}],Enemy_Small:[function(t,e,o){"use strict";cc._RF.push(e,"a4d7aXOgodDmLTUn3rVhdNv","Enemy_Small");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0}),o.Enemy_Small=void 0;var c=t("./GameMgr"),a=cc._decorator,s=a.ccclass,l=a.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.enemy_Small_ExplosionSound=null,e.isDie=!1,e}return i(e,t),e.prototype.onLoad=function(){this.init()},e.prototype.init=function(){this.isDie=!1},e.prototype.start=function(){},e.prototype.update=function(){c.GameMgr.instance.isPaused||(this.node.y-=8,this.node.y<-568&&c.GameMgr.instance.killEnmeny_Small(this.node))},e.prototype.hitted=function(){this.isDie||(this.isDie=!0,this.getComponent(cc.Animation).play("enemy_Small_Die"),cc.audioEngine.play(this.enemy_Small_ExplosionSound,!1,1),c.GameMgr.instance.score+=10)},e.prototype.enemy_Small_Die_Wait=function(){this.node.destroy()},r([l(cc.AudioClip)],e.prototype,"enemy_Small_ExplosionSound",void 0),r([s],e)}(cc.Component);o.Enemy_Small=u,cc._RF.pop()},{"./GameMgr":"GameMgr"}],GameMgr:[function(t,e,o){"use strict";cc._RF.push(e,"1d327SdRltK6bQO5FxC81Mt","GameMgr");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0}),o.GameMgr=void 0;var c=cc._decorator,a=c.ccclass,s=c.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bgm=null,e.current_bgm=null,e.bg1=null,e.bg2=null,e.startPage=null,e.playPage=null,e.pausePage=null,e.endPage=null,e.heroPlane=null,e.heroBullet=null,e.bulletPool=null,e.bulletCount=0,e.enemy_Small=null,e.enemy_SmallPool=null,e.enemy_SmallCount=0,e.scoreboard=null,e.score=0,e.finalScore=null,e.isShooting=!1,e.isPaused=!1,e}var o;return i(e,t),o=e,e.prototype.onLoad=function(){null==o.instance?(o.instance=this,cc.director.getCollisionManager().enabled=!0,this.bulletPool=new cc.NodePool,this.enemy_SmallPool=new cc.NodePool,this.pausePage.active=!1,this.playPage.active=!1,this.endPage.active=!1,this.startPage.active=!0,this.heroPlane.active=!1):this.destroy()},e.prototype.start=function(){},e.prototype._gameLaunch=function(){this.clearAll(),this.score=0,this.bg1.y=0,this.bg2.y=this.bg2.height,this.current_bgm=cc.audioEngine.play(this.bgm,!0,1),this.startPage.active=!1,this.playPage.active=!0,this.heroPlane.active=!0,this.heroPlane.setPosition(0,-500),this.heroPlane.getComponent("Hero_Plane").justLaunchedCount=0},e.prototype.update=function(){1==this.playPage.active&&(this.isPaused||(this._bgMove(),this.bulletCount+=1,this.bulletCount>=8&&this.isShooting&&(this.createBullet(),this.bulletCount=0),this.enemy_SmallCount+=1,this.enemy_SmallCount>=20&&(this.createEnemy_Small(),this.enemy_SmallCount=0)),this.scoreboard.string=this.score.toString())},e.prototype._bgMove=function(){this.bg1.y-=6,this.bg2.y-=6,this.bg1.y<=-this.bg1.height?this.bg1.y=this.bg2.y+this.bg1.height:this.bg2.y<=-this.bg2.height&&(this.bg2.y=this.bg1.y+this.bg2.height)},e.prototype.setTouch=function(){var t=this;this.node.once(cc.Node.EventType.TOUCH_START,function(){t.startPage.active=!1,t.playPage.active=!0,t._gameLaunch()},this)},e.prototype.btn_click=function(t,e){"pause_game"==e?(this.isPaused=!0,this.pausePage.active=!0,cc.audioEngine.pause(this.current_bgm)):"continue"==e?(this.pausePage.active=!1,this.isPaused=!1,cc.audioEngine.resume(this.current_bgm)):"restart"==e?(this.pausePage.active=!1,this.isPaused=!1,this.clearAll(),this.score=0,this.current_bgm=cc.audioEngine.play(this.bgm,!0,1)):"backhome"==e?(this.pausePage.active=!1,this.playPage.active=!1,this.startPage.active=!0,this.isPaused=!1,this.clearAll()):"over_backhome"==e?(this.endPage.active=!1,this.startPage.active=!0,this.isPaused=!1,this.score=0):"gamestart"==e&&this._gameLaunch()},e.prototype.createBullet=function(){var t=null;(t=this.bulletPool.size()>0?this.bulletPool.get():cc.instantiate(this.heroBullet)).setParent(this.playPage),t.setPosition(cc.v2(this.heroPlane.x,this.heroPlane.y+10+this.heroPlane.height/2))},e.prototype.killBullet=function(t){this.bulletPool.put(t)},e.prototype.createEnemy_Small=function(){var t=null;(t=this.enemy_SmallPool.size()>0?this.enemy_SmallPool.get():cc.instantiate(this.enemy_Small)).setParent(this.playPage);var e=300-600*Math.random();t.setPosition(cc.v2(e,568))},e.prototype.killEnmeny_Small=function(t){this.enemy_SmallPool.put(t)},e.prototype.clearAll=function(){for(var t=this.playPage.children,e=t.length-1;e>=0;e--)t[e].getComponent("Bullet")?this.killBullet(t[e]):t[e].getComponent("Enemy_Small")&&this.killEnmeny_Small(t[e])},e.prototype.gameOver=function(){this.playPage.active=!1,this.finalScore.string="FinalScore:"+this.score.toString(),this.endPage.active=!0,cc.audioEngine.stop(this.current_bgm)},e.instance=null,r([s(cc.AudioClip)],e.prototype,"bgm",void 0),r([s(cc.Node)],e.prototype,"bg1",void 0),r([s(cc.Node)],e.prototype,"bg2",void 0),r([s(cc.Node)],e.prototype,"startPage",void 0),r([s(cc.Node)],e.prototype,"playPage",void 0),r([s(cc.Node)],e.prototype,"pausePage",void 0),r([s(cc.Node)],e.prototype,"endPage",void 0),r([s(cc.Node)],e.prototype,"heroPlane",void 0),r([s(cc.Prefab)],e.prototype,"heroBullet",void 0),r([s(cc.Prefab)],e.prototype,"enemy_Small",void 0),r([s(cc.Label)],e.prototype,"scoreboard",void 0),r([s(cc.Label)],e.prototype,"finalScore",void 0),o=r([a],e)}(cc.Component);o.GameMgr=l,cc._RF.pop()},{}],Hero_Plane:[function(t,e,o){"use strict";cc._RF.push(e,"f479bvytX9P2YuATUw4PHQ3","Hero_Plane");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("./GameMgr"),a=cc._decorator,s=a.ccclass,l=a.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.hero_ExplosionSound=null,e._flyMode=!0,e.anim=null,e.justLaunchedCount=0,e.countFlag=!0,e}return i(e,t),e.prototype.onLoad=function(){},e.prototype.onEnable=function(){this.anim=this.getComponent(cc.Animation),this.anim.play("hero_fly")},e.prototype.start=function(){this.node.on(cc.Node.EventType.TOUCH_MOVE,this._touchMove,this),this.node.on(cc.Node.EventType.TOUCH_START,this._touchStart,this),this.node.on(cc.Node.EventType.TOUCH_END,this._touchEnd,this)},e.prototype._touchMove=function(t){var e=t.getDelta();this.node.setPosition(cc.v2(this.node.x+e.x,this.node.y+e.y))},e.prototype._touchStart=function(){c.GameMgr.instance.isShooting=!0},e.prototype._touchEnd=function(){c.GameMgr.instance.isShooting=!1},e.prototype.update=function(){this.justLaunchedCount+=1,this.justLaunchedCount<22&&(this.node.y+=6),c.GameMgr.instance.isPaused&&this._flyMode?(this.anim.pause("hero_fly"),this._flyMode=!1):c.GameMgr.instance.isPaused||this._flyMode||(this.anim.resume("hero_fly"),this._flyMode=!0)},e.prototype.onCollisionEnter=function(t,e){6==e.tag&&(cc.audioEngine.stop(c.GameMgr.instance.current_bgm),this.anim.play("hero_die"),cc.audioEngine.play(this.hero_ExplosionSound,!1,1),c.GameMgr.instance.isPaused=!0,c.GameMgr.instance.clearAll(),setTimeout(function(){this.node.active=!1,c.GameMgr.instance.gameOver()}.bind(this),500))},e.prototype.backHome=function(){c.GameMgr.instance.gameOver()},r([l(cc.AudioClip)],e.prototype,"hero_ExplosionSound",void 0),r([s],e)}(cc.Component);o.default=u,cc._RF.pop()},{"./GameMgr":"GameMgr"}]},{},["Bullet","Enemy_Small","GameMgr","Hero_Plane"]);